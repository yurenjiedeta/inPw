- static关键字

在 C 语言中，static 关键字有两种不同的用法：

1. 在函数内部使用 static 关键字

在函数内部使用 static 关键字可以将变量的作用域限制在该函数内部，从而使该变量在函数执行结束后仍然保持其值。这种用法的主要作用是防止变量被意外修改，从而增加程序的可靠性和可维护性。例如：

```c
void foo() {
    static int count = 0;
    count++;
    printf("Count: %d\n", count);
}
```

在上面的例子中，count 变量是一个静态变量，它的作用域限制在 foo 函数内部。每次调用 foo 函数时，count 的值都会增加，并在下一次调用时保持不变。

相比之下，如果不使用 static 关键字定义 count 变量，则每次调用 foo 函数时都会重新定义和初始化 count 变量，导致其值无法保持。

2. 在文件内部使用 static 关键字

在文件内部使用 static 关键字可以将函数或变量的作用域限制在该文件内部，从而避免与其他文件中的同名函数或变量发生冲突。这种用法的主要作用是提高程序的可维护性和可重用性。例如：

```c
static int add(int a, int b) {
    return a + b;
}

int main() {
    int result = add(1, 2);
    printf("Result: %d\n", result);
    return 0;
}
```

在上面的例子中，add 函数使用 static 关键字定义，因此它的作用域被限制在当前文件内部。这意味着其他文件中的同名函数不会与之发生冲突，从而避免了命名空间污染和代码冲突问题。

相比之下，如果不使用 static 关键字定义 add 函数，则该函数将成为全局函数，可能会与其他文件中的同名函数发生冲突。